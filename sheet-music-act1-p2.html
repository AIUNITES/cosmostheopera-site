<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Act I Part 2: A Window, I Sing, We Come - Sheet Music | COSMOS the OPERA</title>
  <meta name="description" content="Act I Part 2 sheet music with audio playback for COSMOS the OPERA.">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¼</text></svg>">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root { --bg-dark: #0a0a0f; --bg-card: #12121a; --bg-score: #1a1a24; --text-primary: #fff; --text-secondary: #a0a0b0; --accent-purple: #9d4edd; --accent-cyan: #00d4ff; --accent-gold: #ffd700; --accent-pink: #ff6b9d; --accent-green: #00ff88; }
    html { scroll-behavior: smooth; }
    body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg-dark); color: var(--text-primary); line-height: 1.6; }
    .nav { background: var(--bg-card); padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid rgba(255,255,255,0.1); position: sticky; top: 0; z-index: 100; }
    .nav-logo { font-size: 1.5rem; font-weight: 800; color: var(--accent-gold); text-decoration: none; }
    .nav-links { display: flex; gap: 25px; }
    .nav-links a { color: var(--text-secondary); text-decoration: none; font-size: 0.95rem; transition: color 0.3s; }
    .nav-links a:hover, .nav-links a.active { color: var(--accent-cyan); }
    .sheet-nav { background: var(--bg-card); padding: 15px 20px; border-bottom: 1px solid rgba(255,255,255,0.05); }
    .sheet-nav-inner { max-width: 1100px; margin: 0 auto; display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
    .sheet-nav a { color: var(--text-secondary); text-decoration: none; padding: 6px 12px; background: rgba(255,255,255,0.05); border-radius: 15px; font-size: 0.85rem; transition: all 0.3s; }
    .sheet-nav a:hover { background: rgba(0,212,255,0.2); color: var(--accent-cyan); }
    .sheet-nav a.active { background: rgba(157,78,221,0.3); color: var(--accent-purple); }
    .sheet-nav a.climax { background: rgba(255,107,157,0.2); color: var(--accent-pink); }
    .act-header { padding: 40px 20px; text-align: center; background: linear-gradient(135deg, rgba(157,78,221,0.15), rgba(0,212,255,0.1)); }
    .act-header h1 { font-size: clamp(1.8rem, 4vw, 2.5rem); margin-bottom: 10px; background: linear-gradient(135deg, #fff, var(--accent-gold)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .act-header p { color: var(--text-secondary); }
    .audio-banner { background: linear-gradient(135deg, rgba(0,255,136,0.15), rgba(0,212,255,0.1)); border: 1px solid rgba(0,255,136,0.3); border-radius: 10px; padding: 15px 20px; margin: 20px auto; max-width: 1100px; display: flex; align-items: center; gap: 15px; flex-wrap: wrap; }
    .audio-banner-icon { font-size: 2rem; }
    .audio-banner-text { flex: 1; }
    .audio-banner-text h3 { color: var(--accent-green); font-size: 1rem; margin-bottom: 3px; }
    .audio-banner-text p { color: var(--text-secondary); font-size: 0.85rem; }
    .audio-init-btn { background: var(--accent-green); color: #000; border: none; padding: 10px 20px; border-radius: 20px; font-weight: 600; cursor: pointer; transition: all 0.3s; }
    .audio-init-btn:hover { transform: scale(1.05); box-shadow: 0 0 20px rgba(0,255,136,0.4); }
    .audio-init-btn:disabled { background: #444; color: #888; cursor: not-allowed; }
    .audio-init-btn.ready { background: var(--accent-cyan); }
    .play-all-btn { background: linear-gradient(135deg, var(--accent-gold), var(--accent-pink)); color: #000; border: none; padding: 10px 20px; border-radius: 20px; font-weight: 600; cursor: pointer; transition: all 0.3s; }
    .play-all-btn:hover { transform: scale(1.05); box-shadow: 0 0 20px rgba(255,215,0,0.4); }
    .play-all-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
    .voice-options { display: flex; gap: 8px; flex-wrap: wrap; opacity: 0.5; pointer-events: none; }
    .voice-options.enabled { opacity: 1; pointer-events: auto; }
    .voice-checkbox { display: flex; align-items: center; gap: 4px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); padding: 5px 10px; border-radius: 15px; cursor: pointer; font-size: 0.8rem; transition: all 0.3s; }
    .voice-checkbox:hover { border-color: var(--accent-cyan); }
    .voice-checkbox input { display: none; }
    .voice-checkbox input:checked + span { color: var(--accent-green); }
    .voice-checkbox:has(input:checked) { border-color: var(--accent-green); background: rgba(0,255,136,0.1); }
    .voice-guide { max-width: 1100px; margin: 0 auto 10px; padding: 8px 15px; background: rgba(255,255,255,0.03); border-radius: 8px; display: flex; flex-wrap: wrap; gap: 12px; align-items: center; font-size: 0.8rem; color: var(--text-secondary); }
    .voice-guide-label { color: var(--accent-gold); font-weight: 600; }
    .voice-guide b { color: var(--accent-cyan); }
    .voice-guide-tip { color: var(--accent-pink); margin-left: auto; }
    .floating-controls { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: rgba(18,18,26,0.95); border: 1px solid rgba(0,255,136,0.3); border-radius: 30px; padding: 12px 25px; display: flex; align-items: center; gap: 15px; z-index: 1000; backdrop-filter: blur(10px); box-shadow: 0 10px 40px rgba(0,0,0,0.5); flex-wrap: wrap; justify-content: center; }
    .floating-controls.playing { border-color: var(--accent-cyan); box-shadow: 0 10px 40px rgba(0,212,255,0.3); }
    .floating-controls.continuous { border-color: var(--accent-gold); box-shadow: 0 10px 40px rgba(255,215,0,0.3); }
    .continuous-badge { background: var(--accent-gold); color: #000; padding: 3px 8px; border-radius: 10px; font-size: 0.7rem; font-weight: 700; display: none; }
    .now-playing-note { font-family: 'Courier New', monospace; font-size: 1.5rem; font-weight: bold; color: var(--accent-green); min-width: 50px; }
    .now-playing-text { color: var(--accent-cyan); font-style: italic; min-width: 100px; }
    .floating-progress { width: 120px; height: 6px; background: rgba(255,255,255,0.1); border-radius: 3px; overflow: hidden; }
    .floating-progress-bar { height: 100%; background: linear-gradient(90deg, var(--accent-green), var(--accent-cyan)); width: 0%; transition: width 0.1s; }
    .floating-btn { background: rgba(255,107,157,0.2); border: 1px solid var(--accent-pink); color: var(--accent-pink); padding: 6px 14px; border-radius: 15px; cursor: pointer; font-size: 0.85rem; }
    .play-btn-float { background: rgba(0,255,136,0.2); border: 1px solid var(--accent-green); color: var(--accent-green); }
    .play-btn-float.playing { background: rgba(255,215,0,0.2); border-color: var(--accent-gold); color: var(--accent-gold); }
    .stop-btn-float { background: rgba(255,107,157,0.2); border: 1px solid var(--accent-pink); color: var(--accent-pink); }
    .loop-btn { background: rgba(157,78,221,0.2); border: 1px solid var(--accent-purple); color: var(--accent-purple); }
    .loop-btn.active { background: rgba(157,78,221,0.4); border-color: var(--accent-gold); color: var(--accent-gold); }
    .content { max-width: 1100px; margin: 0 auto; padding: 40px 20px; padding-bottom: 100px; }
    .score-section { margin-bottom: 40px; }
    .score-header { background: linear-gradient(135deg, rgba(157,78,221,0.2), rgba(0,212,255,0.1)); border-radius: 10px 10px 0 0; padding: 20px; border-left: 4px solid var(--accent-purple); display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 15px; }
    .score-header-info { flex: 1; }
    .score-header h3 { color: var(--accent-gold); font-size: 1.3rem; margin-bottom: 5px; }
    .score-meta { display: flex; gap: 15px; flex-wrap: wrap; font-size: 0.85rem; color: var(--text-secondary); }
    .score-meta span { background: rgba(255,255,255,0.1); padding: 3px 10px; border-radius: 15px; }
    .play-btn { background: rgba(0,255,136,0.2); border: 1px solid var(--accent-green); color: var(--accent-green); padding: 8px 16px; border-radius: 20px; cursor: pointer; display: flex; align-items: center; gap: 6px; font-size: 0.9rem; transition: all 0.3s; }
    .play-btn:hover { background: rgba(0,255,136,0.3); transform: scale(1.05); }
    .play-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
    .play-btn.playing { background: rgba(255,107,157,0.2); border-color: var(--accent-pink); color: var(--accent-pink); }
    .score-block { background: var(--bg-score); border-radius: 0 0 10px 10px; padding: 20px; overflow-x: auto; border: 1px solid rgba(255,255,255,0.05); border-top: none; }
    .measure-block { font-family: 'Courier New', monospace; font-size: 12px; line-height: 1.4; color: var(--text-secondary); white-space: pre; padding: 10px; border-radius: 6px; transition: all 0.3s; scroll-margin-top: 180px; }
    .measure-block.active { background: rgba(0,255,136,0.1); border-left: 4px solid var(--accent-green); box-shadow: 0 0 20px rgba(0,255,136,0.15); }
    .measure-block.climax-section { background: rgba(255,107,157,0.05); }
    .measure-block.climax-section.active { background: rgba(255,107,157,0.15); border-left-color: var(--accent-pink); }
    .score-annotation { background: rgba(255,215,0,0.1); border-radius: 8px; padding: 12px; margin-top: 10px; font-size: 0.85rem; color: var(--text-secondary); border-left: 3px solid var(--accent-gold); }
    .score-annotation strong { color: var(--accent-gold); }
    .page-nav { display: flex; justify-content: space-between; padding: 30px 0; border-top: 1px solid rgba(255,255,255,0.1); margin-top: 40px; flex-wrap: wrap; gap: 10px; }
    .page-nav a { color: var(--accent-cyan); text-decoration: none; padding: 12px 24px; background: rgba(0,212,255,0.1); border-radius: 25px; transition: all 0.3s; }
    .page-nav a:hover { background: rgba(0,212,255,0.2); }
    .footer { background: var(--bg-card); padding: 30px 20px; text-align: center; border-top: 1px solid rgba(255,255,255,0.05); }
    .footer p { color: var(--text-secondary); font-size: 0.85rem; }
    .footer a { color: var(--accent-purple); text-decoration: none; }
    @media (max-width: 768px) { 
      .nav { flex-direction: column; gap: 15px; } 
      .audio-banner { flex-direction: column; text-align: center; } 
      .floating-controls { padding: 10px 15px; width: 95%; flex-wrap: wrap; justify-content: center; } 
      
      /* Mobile Score - Larger and readable */
      .measure-block { font-size: 14px; line-height: 1.5; padding: 15px; }
      .score-block { padding: 15px; overflow-x: auto; -webkit-overflow-scrolling: touch; }
      
      /* Larger touch targets */
      .voice-checkbox { padding: 8px 12px; font-size: 1rem; }
      .floating-btn { padding: 10px 16px; font-size: 1rem; }
      .play-btn { padding: 12px 20px; font-size: 1rem; }
      .loop-btn { padding: 10px 16px; font-size: 1rem; }
      
      /* Header adjustments */
      .score-header { padding: 15px; }
      .score-header h3 { font-size: 1.1rem; }
      .score-meta span { font-size: 0.8rem; }
    }
  </style>
</head>
<body>
  <!-- AIUNITES Webring -->
  <style>.aiunites-bar{background:linear-gradient(90deg,#0a0a0f,#1a1a2e);border-bottom:1px solid rgba(99,102,241,.3);padding:8px 0;font-size:12px}.aiunites-bar-content{max-width:1400px;margin:0 auto;padding:0 20px;display:flex;align-items:center;gap:12px;overflow-x:auto;scrollbar-width:none}.aiunites-bar-content::-webkit-scrollbar{display:none}.aiunites-bar a{color:rgba(255,255,255,.7);text-decoration:none;white-space:nowrap;transition:color .2s}.aiunites-bar a:hover{color:#fff}.aiunites-bar-brand{color:#6366f1!important;font-weight:600}.aiunites-bar-brand:hover{color:#818cf8!important}.aiunites-bar-divider{color:rgba(255,255,255,.2)}</style>
  <div class="aiunites-bar"><div class="aiunites-bar-content"><a href="https://aiunites.github.io/aiunites-site/" class="aiunites-bar-brand">â—† AIUNITES</a><span class="aiunites-bar-divider">|</span><a href="https://aiunites.github.io/aizines-app/">AIZines</a><a href="https://aiunites.github.io/aibyjob-demo/">AIByJob</a><a href="https://aiunites.github.io/redomy-demo/">Redomy</a><a href="https://aiunites.github.io/videobate-site/">VideoBate</a><a href="https://aiunites.github.io/furnishthings-site/">FurnishThings</a><a href="https://aiunites.github.io/bizstry-site/">BizStry</a><a href="https://aiunites.github.io/aiyhwh-site/">AI YHWH</a><a href="https://aiunites.github.io/cloudsion-site/">Cloudsion</a><a href="https://aiunites.github.io/gameatica-site/">Gameatica</a><a href="https://aiunites.github.io/uptownit-site/">UptownIT</a><a href="https://aiunites.github.io/inthisworld-site/">InThisWorld</a><a href="https://aiunites.github.io/erpise-site/">ERPise</a><a href="https://aiunites.github.io/erpize-site/">ERPize</a><a href="https://aiunites.github.io/cosmostheopera-site/">ğŸŒŒ COSMOS</a></div></div>

  <nav class="nav">
    <a href="index.html" class="nav-logo">ğŸŒŒ COSMOS</a>
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="notation.html">Vocal Notation</a>
      <a href="composition.html">AI Composition</a>
      <a href="gallery.html">Hubble Gallery</a>
      <a href="sheet-music.html" class="active">Sheet Music</a>
      <a href="words.html">Words</a>
      <a href="composer.html">Composer</a>
    </div>
  </nav>
  <div class="sheet-nav">
    <div class="sheet-nav-inner">
      <a href="sheet-music.html">Index</a>
      <a href="sheet-music-act1-p1.html">Act I: 1-2</a>
      <a href="sheet-music-act1-p2.html" class="active">Act I: 3-5</a>
      <a href="sheet-music-act2.html">Act II</a>
      <a href="sheet-music-act3-p1.html">Act III: 1-2</a>
      <a href="sheet-music-act3-p2.html" class="climax">Act III: 3-5 â˜…</a>
    </div>
  </div>
  <header class="act-header">
    <h1>ğŸŒ… ACT I â€” WE COME (Part 2)</h1>
    <p>Scenes 3-5: "A Window", "I Sing", and "We Come" â€” <span style="color: var(--accent-green);">ğŸ”Š Audio + Auto-Scroll</span></p>
  </header>
  <div class="audio-banner">
    <div class="audio-banner-icon">ğŸµ</div>
    <div class="audio-banner-text">
      <h3>Audio Playback with Auto-Scroll</h3>
      <p>Click to enable synthesized audio. The page scrolls to follow the music.</p>
    </div>
    <button class="audio-init-btn" id="audioInitBtn" onclick="initAudio()">Enable Audio</button>
    <button class="play-all-btn" id="playAllBtn" onclick="playFullOpera()" disabled>â–¶ Play Full Opera</button>
  </div>
  <div class="voice-guide">
    <span class="voice-guide-label">ğŸ¼ Voice Guide:</span>
    <span><b>Pure</b> = Clean tone</span>
    <span><b>Choir</b> = Vocal warmth</span>
    <span><b>Organ</b> = Sacred/church</span>
    <span><b>Strings</b> = Orchestral</span>
    <span><b>Rich</b> = Full harmonics</span>
    <span class="voice-guide-tip">ğŸ’¡ Select multiple for layered sound!</span>
  </div>
  <div class="floating-controls" id="floatingControls">
    <span class="continuous-badge" id="continuousBadge" style="display:none;">FULL OPERA</span>
    <div class="now-playing-note" id="floatingNote">--</div>
    <div class="now-playing-text" id="floatingText">Ready</div>
    <div class="floating-progress"><div class="floating-progress-bar" id="floatingProgress"></div></div>
    <div class="voice-options" id="voiceOptions">
      <label class="voice-checkbox" title="Clean sine wave"><input type="checkbox" value="pure" checked onchange="changeVoice()"><span>ğŸµ</span></label>
      <label class="voice-checkbox" title="Choir pad"><input type="checkbox" value="choir" onchange="changeVoice()"><span>ğŸ¤</span></label>
      <label class="voice-checkbox" title="Organ"><input type="checkbox" value="organ" onchange="changeVoice()"><span>ğŸ¹</span></label>
      <label class="voice-checkbox" title="Strings"><input type="checkbox" value="strings" onchange="changeVoice()"><span>ğŸ»</span></label>
      <label class="voice-checkbox" title="Rich harmonics"><input type="checkbox" value="rich" onchange="changeVoice()"><span>âœ¨</span></label>
    </div>
    <button class="floating-btn play-btn-float" id="playPauseBtn" onclick="togglePlayPause()" title="Play/Pause">â–¶ Play</button>
    <button class="floating-btn stop-btn-float" onclick="stopAll()" title="Stop">â–  Stop</button>
    <button class="floating-btn loop-btn active" id="loopBtn" onclick="toggleLoop()" title="Loop current scene">â†» Loop</button>
  </div>
  <main class="content">
    <!-- SCENE 3: A WINDOW -->
    <section class="score-section" id="a-window">
      <div class="score-header">
        <div class="score-header-info">
          <h3>Scene 3: "A Window" â€” Complete Score</h3>
          <div class="score-meta">
            <span>ğŸ¤ Observer (Mezzo-Soprano)</span>
            <span>â±ï¸ Reflective â™©= 66</span>
            <span>ğŸ”‘ A minor</span>
            <span>ğŸ“ 4/4</span>
          </div>
        </div>
        <button class="play-btn" id="playScene3" onclick="togglePlay('scene3')" disabled>â–¶ Play Scene 3</button>
      </div>
      <div class="score-block">
<div class="measure-block" id="s3m1">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 1-8: "a window is a mirror"                          p (mysterious)
â”‚  â™©A4 â”€â†’ â™©G4 â”€â†’ â™©E4 â”€â†’ â—D4~~~~~~~~  (descending: reflection)    [Mâ†’Mâ†’CMâ†’C]
â”‚  "a      win-    dow     is a mirror~~~~"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<div class="measure-block" id="s3m2">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 9-16: "that only shows you your face"                mp
â”‚  â™©E4 â”€â†’ â™©F4 â”€â†’ â™©G4 â”€â†’ â™©A4 â”€â†’ â—B4~~~~  (ascending)              [Câ†’CMâ†’Mâ†’HMâ†’H]
â”‚  "that   on-     ly      shows    you your face~~~~"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<div class="measure-block" id="s3m3">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 17-24: "when the lights are on"                      mp
â”‚  â™©A4 â”€â†’ â™©G4 â”€â†’ â™©F4 â”€â†’ â—E4~~~~~~~~  (descending)                [Mâ†’Mâ†’CMâ†’C]
â”‚  "when   the     lights   are on~~~~~~~~"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<div class="measure-block" id="s3m4">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 25-40: "but when the lights go out..."               mf (revelation)
â”‚  â™©E4 â”€â†’ â™©D4 â”€â†’ â—C4~~~~  "but when the lights go out..."        [Câ†’Câ†’C] p
â”‚  â™©E4 â”€â†’ â™©F4 â”€â†’ â™©G4 â”€â†’ â—A4~~~~  "you can see through~~~~~"      [CMâ†’Mâ†’Mâ†’HM] mf
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<div class="measure-block climax-section" id="s3m5">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 41-56: "close your eyes and see through"         f â˜… CLIMAX â˜…
â”‚  â™©E4 â”€â†’ â™©F4 â”€â†’ â™©G4 â”€â†’ â™©A4 â”€â†’ â™©B4 â”€â†’ â—C5~~~~~~~~  (ascending)   [Câ†’CMâ†’Mâ†’HMâ†’Hâ†’H]
â”‚  "close  your    eyes    and     see     â˜… through â˜…~~~~~~~~"   fff
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<div class="measure-block" id="s3m6">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 57-72: "the window to the universe"                  mf â†’ p
â”‚  â™©A4 â”€â†’ â™©G4 â”€â†’ â™©E4 â”€â†’ â—D4~~~~~~~~  (descending)                [Mâ†’Mâ†’CMâ†’C]
â”‚  "the    win-    dow     to the universe~~~~"                   p, fading
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
      </div>
      <div class="score-annotation">
        <strong>Performance Notes:</strong> "A Window" explores the metaphor of perception. The contrast between "lights on" (seeing only yourself) and "lights out" (seeing through to the universe) is central. Build to the climax on "see through," then fade with wonder.
      </div>
    </section>

    <!-- SCENE 4: I SING -->
    <section class="score-section" id="i-sing">
      <div class="score-header">
        <div class="score-header-info">
          <h3>Scene 4: "I Sing" â€” Complete Score</h3>
          <div class="score-meta">
            <span>ğŸ¤ SATB Chorus + Soprano Solo</span>
            <span>â±ï¸ Joyful â™©= 88</span>
            <span>ğŸ”‘ G major</span>
            <span>ğŸ“ 4/4</span>
          </div>
        </div>
        <button class="play-btn" id="playScene4" onclick="togglePlay('scene4')" disabled>â–¶ Play Scene 4</button>
      </div>
      <div class="score-block">
<div class="measure-block" id="s4m1">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 1-8: "i sing because i can"                          mf (joyful)
â”‚  â™©G4 â”€â†’ â™©A4 â”€â†’ â™©B4 â”€â†’ â—D5~~~~~~~~  (ascending)                 [Mâ†’HMâ†’Hâ†’H]
â”‚  "i      sing    be-     cause i can~~~~"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<div class="measure-block" id="s4m2">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 9-16: "i sing because i must"                        mf
â”‚  â™©G4 â”€â†’ â™©A4 â”€â†’ â™©B4 â”€â†’ â—C5~~~~~~~~  (ascending)                 [Mâ†’HMâ†’Hâ†’H]
â”‚  "i      sing    be-     cause i must~~~~"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<div class="measure-block" id="s4m3">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 17-24: "i sing for the joy of singing"               f
â”‚  â™©G4 â”€â†’ â™©A4 â”€â†’ â™©B4 â”€â†’ â™©C5 â”€â†’ â—D5~~~~  (ascending)              [Mâ†’HMâ†’Hâ†’Hâ†’H]
â”‚  "i      sing    for     the     joy of singing~~~~"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<div class="measure-block" id="s4m4">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 25-40: "and in my song there is..."                  mf
â”‚  â™©D5 â”€â†’ â™©C5 â”€â†’ â™©B4 â”€â†’ â—A4~~~~  "and in my song~~~"             [Hâ†’Hâ†’Hâ†’HM]
â”‚  â™©B4 â”€â†’ â™©C5 â”€â†’ â—D5~~~~  "everything i trust~~~~"               [Hâ†’Hâ†’H]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<div class="measure-block climax-section" id="s4m5">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 41-56: "LOVE!"                                   fff â˜…â˜…â˜… CLIMAX â˜…â˜…â˜…
â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”‚  â•‘   â—G5~~~~~~~~~~~~~~~~~~~~~~~~  "â˜…â˜…â˜… LOVE! â˜…â˜…â˜…"  [H] fff               â•‘
â”‚  â•‘   SOPRANO SOLO - Full chorus holds harmony underneath                 â•‘
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<div class="measure-block" id="s4m6">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 57-72: "i sing for love"                             mf â†’ pp
â”‚  â™©G4 â”€â†’ â™©A4 â”€â†’ â™©B4 â”€â†’ â—G4~~~~~~~~  (returning)                 [Mâ†’HMâ†’Hâ†’M]
â”‚  "i      sing    for     love~~~~~~~~~"                         pp, tender
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
      </div>
      <div class="score-annotation">
        <strong>Performance Notes:</strong> "I Sing" celebrates the act of singing itself. The chorus builds joyfully, with the soprano exploding on "LOVE!" at the climax. The final "for love" should be tender and intimate.
      </div>
    </section>

    <!-- SCENE 5: WE COME -->
    <section class="score-section" id="we-come">
      <div class="score-header">
        <div class="score-header-info">
          <h3>Scene 5: "We Come" â€” Complete Score (Act I Finale)</h3>
          <div class="score-meta">
            <span>ğŸ¤ All Soloists + Full Chorus</span>
            <span>â±ï¸ Grandioso â™©= 72</span>
            <span>ğŸ”‘ C major</span>
            <span>ğŸ“ 4/4</span>
          </div>
        </div>
        <button class="play-btn" id="playScene5" onclick="togglePlay('scene5')" disabled>â–¶ Play Scene 5</button>
      </div>
      <div class="score-block">
<div class="measure-block" id="s5m1">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 1-8: "we come from the stars"                        f (majestic)
â”‚  â™©C4 â”€â†’ â™©E4 â”€â†’ â™©G4 â”€â†’ â—C5~~~~~~~~  (ascending)                 [Câ†’CMâ†’Mâ†’H]
â”‚  "we     come    from    the stars~~~~"                         FULL CHORUS
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<div class="measure-block" id="s5m2">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 9-16: "and to the stars we shall return"             f
â”‚  â™©C5 â”€â†’ â™©B4 â”€â†’ â™©A4 â”€â†’ â™©G4 â”€â†’ â™©E4 â”€â†’ â—C4~~~~  (descending)      [Hâ†’HMâ†’Mâ†’Mâ†’CMâ†’C]
â”‚  "and    to      the     stars   we shall  return~~~~"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<div class="measure-block" id="s5m3">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 17-32: "we are made of stardust"                     mf
â”‚  â™©E4 â”€â†’ â™©F4 â”€â†’ â™©G4 â”€â†’ â™©A4 â”€â†’ â—B4~~~~  (ascending)              [Câ†’CMâ†’Mâ†’HMâ†’H]
â”‚  "we     are     made    of      stardust~~~~"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<div class="measure-block" id="s5m4">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 33-48: "cosmic travelers on this journey"            mf
â”‚  â™©G4 â”€â†’ â™©A4 â”€â†’ â™©B4 â”€â†’ â™©C5 â”€â†’ â—D5~~~~  (ascending)              [Mâ†’HMâ†’Hâ†’Hâ†’H]
â”‚  "cos-   mic     tra-    vel-    ers on this journey~~~~"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<div class="measure-block climax-section" id="s5m5">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 49-72: "WE COME!"                                fff â˜…â˜…â˜… ACT FINALE â˜…â˜…â˜…
â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”‚  â•‘   â—G5 â•â•â• â—E5 â•â•â• â—C5 â•â•â• â—G4 â•â•â• â—C4  (Full C major chord)          â•‘
â”‚  â•‘   "â˜…â˜…â˜… WE COME! â˜…â˜…â˜…"  [H] fff - ALL VOICES, all forces               â•‘
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<div class="measure-block" id="s5m6">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚  MEASURES 73-80: "we come..." (fading)                         pp
â”‚  â—C4~~~~~~~~~~~~~~~~~~~~~~~~  "we come..."                     [C] pp
â”‚  fading into silence â€” INTERMISSION - END OF ACT I
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
      </div>
      <div class="score-annotation">
        <strong>Performance Notes:</strong> "We Come" is the triumphant finale of Act I. All voices unite in declaration of cosmic origin. The final "WE COME!" should be held as long as possible, then fade to a whispered reprise leading to intermission.
      </div>
    </section>

    <div class="sheet-nav" style="margin-top: 40px; border-top: 1px solid rgba(255,255,255,0.05); border-bottom: none;">
      <div class="sheet-nav-inner">
        <a href="sheet-music.html">Index</a>
        <a href="sheet-music-act1-p1.html">Act I: 1-2</a>
        <a href="sheet-music-act1-p2.html" class="active">Act I: 3-5</a>
        <a href="sheet-music-act2.html">Act II</a>
        <a href="sheet-music-act3-p1.html">Act III: 1-2</a>
        <a href="sheet-music-act3-p2.html" class="climax">Act III: 3-5 â˜…</a>
      </div>
    </div>
    <nav class="page-nav">
      <a href="sheet-music-act1-p1.html">â† Act I Part 1</a>
      <a href="sheet-music-act2.html">Act II â†’</a>
    </nav>
  </main>
  <footer class="footer">
    <p>Â© 2002-2026 COSMOS the OPERA. All Rights Reserved. DMCA Protected.<br>
    <a href="index.html">Home</a> | <a href="sheet-music.html">Sheet Music Index</a></p>
  </footer>
  <script>
let audioReady=false,synths=[],reverb=null,chorus=null,isPlaying={},currentMeasure=null,currentScene=null,continuousMode=false,loopMode=true,activeVoices=['pure'];

const voicePresets={
  pure:{osc:'sine',attack:0.1,decay:0.2,sustain:0.85,release:1.2,vol:-6},
  choir:{osc:'triangle',attack:0.15,decay:0.3,sustain:0.9,release:1.5,vol:-8},
  organ:{osc:'square',attack:0.01,decay:0.1,sustain:0.95,release:0.3,vol:-12},
  strings:{osc:'sawtooth',attack:0.3,decay:0.4,sustain:0.8,release:2,vol:-10},
  rich:{osc:'fatsine',attack:0.12,decay:0.25,sustain:0.88,release:1.4,vol:-8}
};

function createSynths(){
  synths.forEach(s=>{s.disconnect();s.dispose();});
  synths=[];
  const checkboxes=document.querySelectorAll('.voice-checkbox input:checked');
  activeVoices=[...checkboxes].map(cb=>cb.value);
  if(activeVoices.length===0){activeVoices=['pure'];document.querySelector('.voice-checkbox input[value="pure"]').checked=true;}
  activeVoices.forEach(voice=>{
    const p=voicePresets[voice];
    const s=new Tone.PolySynth(Tone.Synth,{oscillator:{type:p.osc},envelope:{attack:p.attack,decay:p.decay,sustain:p.sustain,release:p.release},volume:p.vol});
    s.connect(chorus);
    synths.push(s);
  });
}

function changeVoice(){
  if(audioReady)createSynths();
}

function updateFloatingState(playing){
  const fc=document.getElementById('floatingControls');
  if(playing){fc.classList.add('playing');}else{fc.classList.remove('playing');}
}
const NEXT_PAGE='sheet-music-act2.html';
const PAGE_SCENES=['scene3','scene4','scene5'];

const scene3Data={tempo:66,notes:[
{note:'A4',duration:1,text:'a',dyn:0.4,m:'s3m1'},
{note:'G4',duration:1,text:'win-',dyn:0.4,m:'s3m1'},
{note:'E4',duration:1,text:'dow',dyn:0.4,m:'s3m1'},
{note:'D4',duration:2.5,text:'mirror',dyn:0.4,m:'s3m1'},
{note:null,duration:0.5,m:'s3m1'},
{note:'E4',duration:1,text:'that',dyn:0.5,m:'s3m2'},
{note:'F4',duration:1,text:'on-',dyn:0.5,m:'s3m2'},
{note:'G4',duration:1,text:'ly',dyn:0.55,m:'s3m2'},
{note:'A4',duration:1,text:'shows',dyn:0.6,m:'s3m2'},
{note:'B4',duration:2.5,text:'face',dyn:0.65,m:'s3m2'},
{note:null,duration:0.5,m:'s3m2'},
{note:'A4',duration:1,text:'when',dyn:0.5,m:'s3m3'},
{note:'G4',duration:1,text:'the',dyn:0.5,m:'s3m3'},
{note:'F4',duration:1,text:'lights',dyn:0.5,m:'s3m3'},
{note:'E4',duration:2.5,text:'on',dyn:0.5,m:'s3m3'},
{note:null,duration:0.5,m:'s3m3'},
{note:'E4',duration:1,text:'but',dyn:0.4,m:'s3m4'},
{note:'D4',duration:1,text:'when',dyn:0.4,m:'s3m4'},
{note:'C4',duration:2,text:'out...',dyn:0.35,m:'s3m4'},
{note:'E4',duration:0.75,text:'you',dyn:0.5,m:'s3m4'},
{note:'F4',duration:0.75,text:'can',dyn:0.55,m:'s3m4'},
{note:'G4',duration:0.75,text:'see',dyn:0.6,m:'s3m4'},
{note:'A4',duration:2,text:'through',dyn:0.65,m:'s3m4'},
{note:null,duration:0.5,m:'s3m4'},
{note:'E4',duration:0.5,text:'close',dyn:0.6,m:'s3m5'},
{note:'F4',duration:0.5,text:'your',dyn:0.65,m:'s3m5'},
{note:'G4',duration:0.5,text:'eyes',dyn:0.7,m:'s3m5'},
{note:'A4',duration:0.5,text:'and',dyn:0.75,m:'s3m5'},
{note:'B4',duration:0.75,text:'see',dyn:0.85,m:'s3m5'},
{note:'C5',duration:4,text:'through',dyn:1.0,m:'s3m5'},
{note:null,duration:0.5,m:'s3m5'},
{note:'A4',duration:1,text:'the',dyn:0.5,m:'s3m6'},
{note:'G4',duration:1,text:'win-',dyn:0.45,m:'s3m6'},
{note:'E4',duration:1,text:'dow',dyn:0.4,m:'s3m6'},
{note:'D4',duration:3,text:'universe',dyn:0.35,m:'s3m6'}
]};

const scene4Data={tempo:88,notes:[
{note:'G4',duration:0.75,text:'i',dyn:0.6,m:'s4m1'},
{note:'A4',duration:0.75,text:'sing',dyn:0.6,m:'s4m1'},
{note:'B4',duration:0.75,text:'be-',dyn:0.65,m:'s4m1'},
{note:'D5',duration:2.5,text:'cause i can',dyn:0.7,m:'s4m1'},
{note:null,duration:0.5,m:'s4m1'},
{note:'G4',duration:0.75,text:'i',dyn:0.6,m:'s4m2'},
{note:'A4',duration:0.75,text:'sing',dyn:0.6,m:'s4m2'},
{note:'B4',duration:0.75,text:'be-',dyn:0.65,m:'s4m2'},
{note:'C5',duration:2.5,text:'cause i must',dyn:0.7,m:'s4m2'},
{note:null,duration:0.5,m:'s4m2'},
{note:'G4',duration:0.5,text:'i',dyn:0.7,m:'s4m3'},
{note:'A4',duration:0.5,text:'sing',dyn:0.7,m:'s4m3'},
{note:'B4',duration:0.5,text:'for',dyn:0.75,m:'s4m3'},
{note:'C5',duration:0.5,text:'the',dyn:0.75,m:'s4m3'},
{note:'D5',duration:2.5,text:'joy of singing',dyn:0.8,m:'s4m3'},
{note:null,duration:0.5,m:'s4m3'},
{note:'D5',duration:0.75,text:'and',dyn:0.6,m:'s4m4'},
{note:'C5',duration:0.75,text:'in',dyn:0.6,m:'s4m4'},
{note:'B4',duration:0.75,text:'my',dyn:0.6,m:'s4m4'},
{note:'A4',duration:2,text:'song',dyn:0.6,m:'s4m4'},
{note:'B4',duration:0.75,text:'ev-',dyn:0.65,m:'s4m4'},
{note:'C5',duration:0.75,text:'ery-',dyn:0.7,m:'s4m4'},
{note:'D5',duration:2,text:'thing',dyn:0.75,m:'s4m4'},
{note:null,duration:0.5,m:'s4m4'},
{note:'G5',duration:5,text:'LOVE!',dyn:1.0,m:'s4m5'},
{note:null,duration:1,m:'s4m5'},
{note:'G4',duration:0.75,text:'i',dyn:0.5,m:'s4m6'},
{note:'A4',duration:0.75,text:'sing',dyn:0.45,m:'s4m6'},
{note:'B4',duration:0.75,text:'for',dyn:0.4,m:'s4m6'},
{note:'G4',duration:3,text:'love',dyn:0.35,m:'s4m6'}
]};

const scene5Data={tempo:72,notes:[
{note:'C4',duration:0.75,text:'we',dyn:0.7,m:'s5m1'},
{note:'E4',duration:0.75,text:'come',dyn:0.7,m:'s5m1'},
{note:'G4',duration:0.75,text:'from',dyn:0.75,m:'s5m1'},
{note:'C5',duration:3,text:'the stars',dyn:0.8,m:'s5m1'},
{note:null,duration:0.5,m:'s5m1'},
{note:'C5',duration:0.5,text:'and',dyn:0.75,m:'s5m2'},
{note:'B4',duration:0.5,text:'to',dyn:0.7,m:'s5m2'},
{note:'A4',duration:0.5,text:'the',dyn:0.65,m:'s5m2'},
{note:'G4',duration:0.5,text:'stars',dyn:0.6,m:'s5m2'},
{note:'E4',duration:0.75,text:'we',dyn:0.55,m:'s5m2'},
{note:'C4',duration:2.5,text:'return',dyn:0.5,m:'s5m2'},
{note:null,duration:0.5,m:'s5m2'},
{note:'E4',duration:0.75,text:'we',dyn:0.55,m:'s5m3'},
{note:'F4',duration:0.75,text:'are',dyn:0.55,m:'s5m3'},
{note:'G4',duration:0.75,text:'made',dyn:0.6,m:'s5m3'},
{note:'A4',duration:0.75,text:'of',dyn:0.6,m:'s5m3'},
{note:'B4',duration:3,text:'stardust',dyn:0.65,m:'s5m3'},
{note:null,duration:0.5,m:'s5m3'},
{note:'G4',duration:0.5,text:'cos-',dyn:0.6,m:'s5m4'},
{note:'A4',duration:0.5,text:'mic',dyn:0.65,m:'s5m4'},
{note:'B4',duration:0.5,text:'tra-',dyn:0.7,m:'s5m4'},
{note:'C5',duration:0.5,text:'vel-',dyn:0.75,m:'s5m4'},
{note:'D5',duration:3,text:'ers',dyn:0.8,m:'s5m4'},
{note:null,duration:0.5,m:'s5m4'},
{note:'C4',duration:0.5,dyn:0.9,m:'s5m5'},
{note:'G4',duration:0.5,dyn:0.95,m:'s5m5'},
{note:'C5',duration:0.5,dyn:0.98,m:'s5m5'},
{note:'E5',duration:0.5,dyn:1.0,m:'s5m5'},
{note:'G5',duration:6,text:'WE COME!',dyn:1.0,m:'s5m5'},
{note:null,duration:1,m:'s5m5'},
{note:'C4',duration:4,text:'we come...',dyn:0.3,m:'s5m6'}
]};

const sceneDataMap={scene3:scene3Data,scene4:scene4Data,scene5:scene5Data};

async function initAudio(){
  const btn=document.getElementById('audioInitBtn');
  btn.textContent='Initializing...';btn.disabled=true;
  try{
    await Tone.start();
    reverb=new Tone.Reverb({decay:4,wet:0.45}).toDestination();
    chorus=new Tone.Chorus({frequency:2,delayTime:3.5,depth:0.7,wet:0.3}).connect(reverb);
    createSynths();
    audioReady=true;btn.textContent='âœ“ Audio Ready';btn.classList.add('ready');
    document.getElementById('voiceOptions').classList.add('enabled');
    document.getElementById('playScene3').disabled=false;
    document.getElementById('playScene4').disabled=false;
    document.getElementById('playScene5').disabled=false;
    document.getElementById('playAllBtn').disabled=false;
    checkAutoplay();
  }catch(e){btn.textContent='Audio Failed';console.error(e);}
}

function checkAutoplay(){
  const params=new URLSearchParams(window.location.search);
  if(params.get('autoplay')==='continuous'){
    continuousMode=true;
    playAllScenesSequentially();
  }
}

function scrollToMeasure(id){
  if(currentMeasure)document.getElementById(currentMeasure)?.classList.remove('active');
  const el=document.getElementById(id);
  if(el&&id!==currentMeasure){el.classList.add('active');el.scrollIntoView({behavior:'smooth',block:'center'});currentMeasure=id;}
}

async function playScene(sceneId){
  const data=sceneDataMap[sceneId];
  if(!data)return;
  const bpm=data.tempo,beatDuration=60/bpm;
  let totalBeats=data.notes.reduce((s,n)=>s+n.duration,0),currentBeat=0;
  const floatingControls=document.getElementById('floatingControls');
  const progressBar=document.getElementById('floatingProgress');
  const noteDisplay=document.getElementById('floatingNote');
  const textDisplay=document.getElementById('floatingText');
  updateFloatingState(true);
  if(continuousMode){floatingControls.classList.add('continuous');document.getElementById('continuousBadge').style.display='inline';}
  scrollToMeasure(data.notes[0].m);
  for(let i=0;i<data.notes.length;i++){
    if(!isPlaying[sceneId])return false;
    const note=data.notes[i],durationSec=note.duration*beatDuration;
    scrollToMeasure(note.m);
    if(note.note){noteDisplay.textContent=note.note;textDisplay.textContent=note.text?'"'+note.text+'"':'â™ª';synths.forEach(s=>s.triggerAttackRelease(note.note,durationSec*0.9,Tone.now(),note.dyn));}
    else{noteDisplay.textContent='â€”';textDisplay.textContent='(rest)';}
    currentBeat+=note.duration;progressBar.style.width=(currentBeat/totalBeats)*100+'%';
    await new Promise(r=>setTimeout(r,durationSec*1000));
  }
  return true;
}

async function togglePlay(sceneId){
  if(!audioReady)return;
  if(currentScene&&currentScene!==sceneId){stopAll();}
  const btnMap={scene3:'playScene3',scene4:'playScene4',scene5:'playScene5'};
  const playBtn=document.getElementById(btnMap[sceneId]);
  if(isPlaying[sceneId]){stopAll();return;}
  continuousMode=false;
  isPlaying[sceneId]=true;currentScene=sceneId;
  playBtn.classList.add('playing');playBtn.textContent='â¸ Playing...';
  let completed=true;
  while(completed&&isPlaying[sceneId]){
    completed=await playScene(sceneId);
    if(!loopMode||!isPlaying[sceneId])break;
  }
  if(!loopMode)stopAll();
}

async function playAllScenesSequentially(){
  for(const sceneId of PAGE_SCENES){
    if(!continuousMode)break;
    const btnMap={scene3:'playScene3',scene4:'playScene4',scene5:'playScene5'};
    const btn=document.getElementById(btnMap[sceneId]);
    isPlaying[sceneId]=true;currentScene=sceneId;
    btn.classList.add('playing');btn.textContent='â¸ Playing...';
    const completed=await playScene(sceneId);
    btn.classList.remove('playing');btn.textContent='â–¶ Play Scene '+(PAGE_SCENES.indexOf(sceneId)+3);
    isPlaying[sceneId]=false;
    if(!completed||!continuousMode)break;
  }
  if(continuousMode&&NEXT_PAGE){window.location.href=NEXT_PAGE+'?autoplay=continuous';}
  else{stopAll();}
}

function playFullOpera(){
  if(!audioReady)return;
  stopAll();
  continuousMode=true;
  document.getElementById('playAllBtn').textContent='â¸ Playing Opera...';
  playAllScenesSequentially();
}

function stopAll(){
  continuousMode=false;
  Object.keys(isPlaying).forEach(k=>isPlaying[k]=false);
  currentScene=null;
  ['playScene3','playScene4','playScene5'].forEach((id,i)=>{const btn=document.getElementById(id);btn.classList.remove('playing');btn.textContent='â–¶ Play Scene '+(i+3);});
  document.getElementById('playAllBtn').textContent='â–¶ Play Full Opera';
  document.getElementById('floatingControls').classList.remove('playing','continuous');
  document.getElementById('continuousBadge').style.display='none';
  document.getElementById('floatingProgress').style.width='0%';
  document.getElementById('floatingNote').textContent='--';
  document.getElementById('floatingText').textContent='Ready';
  updateFloatingState(false);
  if(currentMeasure){document.getElementById(currentMeasure)?.classList.remove('active');currentMeasure=null;}
  if(synths.length)synths.forEach(s=>s.releaseAll());
}

function toggleLoop(){
  loopMode=!loopMode;
  const btn=document.getElementById('loopBtn');
  if(loopMode){btn.classList.add('active');btn.textContent='â†» Loop';}
  else{btn.classList.remove('active');btn.textContent='â†» Loop';}
}

function togglePlayPause(){
  if(!audioReady){initAudio();return;}
  if(currentScene&&isPlaying[currentScene]){
    stopAll();
  }else{
    const sceneToPlay=currentScene||'scene3';
    togglePlay(sceneToPlay);
  }
}

function updateFloatingState(playing){
  const fc=document.getElementById('floatingControls');
  const ppBtn=document.getElementById('playPauseBtn');
  if(playing){
    fc.classList.add('playing');
    ppBtn.classList.add('playing');
    ppBtn.textContent='â¸ Pause';
  }else{
    fc.classList.remove('playing');
    ppBtn.classList.remove('playing');
    ppBtn.textContent='â–¶ Play';
  }
}

window.onload=()=>{const params=new URLSearchParams(window.location.search);if(params.get('autoplay')==='continuous'){initAudio();}};
  </script>
</body>
</html>
